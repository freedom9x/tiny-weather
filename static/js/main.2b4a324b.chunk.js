(this["webpackJsonptiny-weather"]=this["webpackJsonptiny-weather"]||[]).push([[0],{18:function(n,e,t){n.exports=t(27)},23:function(n,e,t){},27:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(12),c=t.n(i),o=(t(23),t(1)),u=t(2),s=t(9),l=t(3),f=t.n(l),d=t(4),h=t(5),p=t(6),g=t(17),b=t(16),m={logError:function(n){console.log(n)},setConfig:function(n){}},v=function(){function n(e){var t=e.baseUrl,r=e.endPoints;Object(h.a)(this,n),this.baseUrl=t,this.endPoints=r,this.normalizeData=this.normalizeData.bind(this)}return Object(p.a)(n,[{key:"searchCity",value:function(){var n=Object(d.a)(f.a.mark((function n(e){var t,r,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(this.baseUrl).concat(this.endPoints.searchCity).concat(e),n.next=3,fetch(t);case 3:if(200!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.json());case 6:return a="".concat(r.status," : ").concat(r.statusText),m.logError(a),n.abrupt("return",{errorMessage:a});case 9:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"find5days",value:function(){var n=Object(d.a)(f.a.mark((function n(e){var t,r,a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(this.baseUrl).concat(this.endPoints.find5days).concat(e),n.next=3,fetch(t);case 3:if(200!==(r=n.sent).status){n.next=6;break}return n.abrupt("return",r.json());case 6:return a="".concat(r.status," : ").concat(r.statusText),m.logError(a),n.abrupt("return",{errorMessage:a});case 9:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"getDayName",value:function(n){var e=n.split("-");return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(e[0],parseInt(e[1],10)-1,e[2]).getDay()]}},{key:"normalizeData",value:function(n){var e=this;return n.map((function(n){return{minTemp:parseFloat(n.min_temp),maxTemp:parseFloat(n.max_temp),dayName:e.getDayName(n.applicable_date),iconUrl:"".concat(e.baseUrl).concat(e.endPoints.icon).concat(n.weather_state_abbr,".svg"),id:n.id}}))}}]),n}(),y={name:"MetaWeather",config:{baseUrl:"https://www.metaweather.com/",endPoints:{searchCity:"api/location/search/?query=",find5days:"api/location/",icon:"static/img/weather/"}}},x=function(){var n=null,e=null;function t(t){if(n&&e===t)return n;switch(t){case y.name:return e=t,n=new v(y.config);default:return e=y.name,n=new v(y.config)}}return{searchCity:function(n,e){return t(e).searchCity(n)},find5days:function(n,e){return t(e).find5days(n)},normalizeData:function(n,e){return t(e).normalizeData(n)}}}();function w(){return(w=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function C(n,e){if(null==n)return{};var t,r,a=function(n,e){if(null==n)return{};var t,r,a={},i=Object.keys(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||(a[t]=n[t]);return a}(n,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);for(r=0;r<i.length;r++)t=i[r],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(n,t)&&(a[t]=n[t])}return a}var j=a.a.createElement("path",{d:"M 52.349609 14.400391 C 42.624609 14.400391 32.9 18.1 25.5 25.5 C 10.7 40.3 10.7 64.399219 25.5 79.199219 C 32.9 86.599219 42.600391 90.300781 52.400391 90.300781 C 62.200391 90.300781 71.900781 86.599219 79.300781 79.199219 C 94.000781 64.399219 93.999219 40.3 79.199219 25.5 C 71.799219 18.1 62.074609 14.400391 52.349609 14.400391 z M 52.300781 20.300781 C 60.500781 20.300781 68.700391 23.399219 74.900391 29.699219 C 87.400391 42.199219 87.4 62.5 75 75 C 62.5 87.5 42.199219 87.5 29.699219 75 C 17.199219 62.5 17.199219 42.199219 29.699219 29.699219 C 35.899219 23.499219 44.100781 20.300781 52.300781 20.300781 z M 52.300781 26.300781 C 45.400781 26.300781 38.9 29 34 34 C 29.3 38.7 26.700391 44.800391 26.400391 51.400391 C 26.300391 53.100391 27.600781 54.4 29.300781 54.5 L 29.400391 54.5 C 31.000391 54.5 32.300391 53.199609 32.400391 51.599609 C 32.600391 46.499609 34.699219 41.799219 38.199219 38.199219 C 41.999219 34.399219 47.000781 32.300781 52.300781 32.300781 C 54.000781 32.300781 55.300781 31.000781 55.300781 29.300781 C 55.300781 27.600781 54.000781 26.300781 52.300781 26.300781 z M 35 64 A 3 3 0 0 0 32 67 A 3 3 0 0 0 35 70 A 3 3 0 0 0 38 67 A 3 3 0 0 0 35 64 z M 83.363281 80.5 C 82.600781 80.5 81.850781 80.800391 81.300781 81.400391 C 80.100781 82.600391 80.100781 84.499609 81.300781 85.599609 L 83.800781 88.099609 C 83.200781 89.299609 82.900391 90.6 82.900391 92 C 82.900391 94.4 83.8 96.700391 85.5 98.400391 L 98.300781 111 C 100.10078 112.8 102.39922 113.69922 104.69922 113.69922 C 106.99922 113.69922 109.29961 112.79961 111.09961 111.09961 C 114.59961 107.59961 114.59961 101.90039 111.09961 98.400391 L 98.300781 85.599609 C 96.600781 83.899609 94.300391 83 91.900391 83 C 90.500391 83 89.2 83.300391 88 83.900391 L 85.5 81.400391 C 84.9 80.800391 84.125781 80.5 83.363281 80.5 z M 91.900391 88.900391 C 92.700391 88.900391 93.5 89.200781 94 89.800781 L 106.69922 102.5 C 107.89922 103.7 107.89922 105.59922 106.69922 106.69922 C 105.49922 107.89922 103.6 107.89922 102.5 106.69922 L 89.800781 94.099609 C 89.200781 93.499609 88.900391 92.700391 88.900391 91.900391 C 88.900391 91.100391 89.200781 90.300781 89.800781 89.800781 C 90.400781 89.200781 91.100391 88.900391 91.900391 88.900391 z"}),O=function(n){var e=n.svgRef,t=n.title,r=C(n,["svgRef","title"]);return a.a.createElement("svg",w({fill:"#000000",viewBox:"0 0 128 128",width:"64px",height:"64px",ref:e},r),t?a.a.createElement("title",null,t):null,j)},E=a.a.forwardRef((function(n,e){return a.a.createElement(O,w({svgRef:e},n))}));t.p;function k(){var n=Object(o.a)(["\n  background: linear-gradient(to right,#ffffff, #b7b7b7);\n  background-size: 400% 400%;\n  animation: gradient 0.5s ease infinite;\n"]);return k=function(){return n},n}function S(){var n=Object(o.a)(["\n  background: url(",") center no-repeat;\n  flex: 1;\n"]);return S=function(){return n},n}function F(){var n=Object(o.a)([" background: linear-gradient(to top,#2da3e4,#c8d018);"]);return F=function(){return n},n}function z(){var n=Object(o.a)(["\n  width: 6px;\n  border-radius: 20px;\n  background: linear-gradient(to top, #95ca3d, #bf2b1c);\n  height: 100%;\n  ","\n"]);return z=function(){return n},n}function M(){var n=Object(o.a)(["\n\n"]);return M=function(){return n},n}function P(){var n=Object(o.a)(["\n    flex-direction: column;\n    padding: 10px;\n    flex: 1;\n    display: flex;\n"]);return P=function(){return n},n}function T(){var n=Object(o.a)(["\n    padding: 10px;\n    flex-direction: column;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return T=function(){return n},n}function D(){var n=Object(o.a)(["\n  text-align: center;\n  font-size: 16px;\n"]);return D=function(){return n},n}function U(){var n=Object(o.a)(["\n    display: flex;\n    padding: 5px;\n    height: 160px;\n    width: 160px;\n    background: lightblue;\n    margin: 5px;\n    color: grey;\n    border-radius: 5px;\n    font-weight: 600;\n    \n"]);return U=function(){return n},n}var L=u.b.div(U()),A=u.b.div(D()),I=u.b.div(T()),N=u.b.div(P()),R=u.b.div(M()),W=u.b.div(z(),(function(n){return n.isCool?Object(u.a)(F()):""})),_=u.b.div(S(),(function(n){return n.iconPath})),q=Object(u.b)(L)(k()),B=function(n){var e=n.statusIcon,t=n.dayName,r=n.min,i=n.max,c=n.isFetching,o=n.unit;return c?a.a.createElement(q,null):a.a.createElement(L,null,a.a.createElement(N,null,a.a.createElement(A,null," ",t," "),a.a.createElement(_,{iconPath:e})),a.a.createElement(I,null,a.a.createElement(R,null," ","".concat(i.toFixed(0)).concat(String.fromCharCode("0176")).concat(o)),a.a.createElement(W,{isCool:i<30}),a.a.createElement(R,null,"".concat(r.toFixed(0)).concat(String.fromCharCode("0176")).concat(o))))};function J(){var n=Object(o.a)(["\n  text-align: center;\n"]);return J=function(){return n},n}function $(){var n=Object(o.a)(["\n  text-align: center;\n  color: red;\n"]);return $=function(){return n},n}function G(){var n=Object(o.a)(["\n  text-align: center;\n  font-size: 16px;\n  font-weight: 600;\n  padding: 15px 0;\n"]);return G=function(){return n},n}function H(){var n=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n"]);return H=function(){return n},n}function K(){var n=Object(o.a)(["\n  text-align: center;\n"]);return K=function(){return n},n}function Q(){var n=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n"]);return Q=function(){return n},n}function V(){var n=Object(o.a)(["\n  width: 60px;\n  height: 20px; \n  margin: 5px;\n  margin-top: 20px;\n  background: linear-gradient(to right,#ffffff, #b7b7b7);\n  background-size: 400% 400%;\n  animation: gradient 0.5s ease infinite;\n"]);return V=function(){return n},n}function X(){var n=Object(o.a)(["\n    display: inline-block;\n    padding: 7px;\n    font-style: italic;\n    text-decoration: underline;\n    color: cadetblue;\n    font-size: 15px;\n    cursor: pointer;\n"]);return X=function(){return n},n}function Y(){var n=Object(o.a)(["\n  padding-top: 32px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(o.a)(["\n    width: 24px;\n    height: 24px;\n    top: 25px;\n    right: 5px;\n    position: absolute;\n"]);return Z=function(){return n},n}function nn(){var n=Object(o.a)(["\n    width: 290px;\n    position: relative;\n    padding: 20px 0;\n    margin: 0 auto;\n"]);return nn=function(){return n},n}function en(){var n=Object(o.a)(["\n    background-color: #2c313b;\n    border-style: none;\n    padding: 10px 30px 10px 20px;\n    border-radius: 5px;\n    font-weight: 700;\n    color: #d6cfcf;\n    width: 100%;\n    border-radius: 7px;\n  &:focus {\n    outline: none;\n  }\n  &::placeholder  {\n    color: #8a8080;\n  }\n"]);return en=function(){return n},n}var tn,rn=u.b.input(en()),an=u.b.div(nn()),cn=Object(u.b)(E)(Z()),on=u.b.div(Y()),un=u.b.span(X()),sn=Object(u.b)(un)(V()),ln=u.b.div(Q()),fn=u.b.div(K()),dn=u.b.div(H()),hn=u.b.div(G()),pn=u.b.div($()),gn=u.b.div(J()),bn=y;function mn(n){var e=new URLSearchParams(window.location.search);e.set("q",n);var t="".concat(window.location.pathname,"?").concat(e.toString());history.pushState(null,"",t)}var vn=function(n){Object(g.a)(t,n);var e=Object(b.a)(t);function t(){var n;return Object(h.a)(this,t),(n=e.call(this)).state={suggestCities:[],weathers:[],searchTerm:"",isFetching:!1,city:""},n}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var n=function(){var n=window.location.search;return new URLSearchParams(n).get("q")}();n&&n.length>0&&(this.setState({searchTerm:n}),this.searchCity(n))}},{key:"searchCity",value:function(n){var e=this;this.setState({searchTerm:n}),clearTimeout(tn),n&&n.trim().length>0&&(tn=setTimeout(Object(d.a)(f.a.mark((function t(){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return mn(n),e.setState({isFetching:!0}),t.next=4,x.searchCity(n.trim(),bn.name);case 4:(r=t.sent).errorMessage?e.setState({error:r.errorMessage,isFetching:!1}):(e.setState({suggestCities:r,error:"",notification:0===r.length?"Could not found city with you input. Please try again":"",weathers:[]}),1===r.length?e.getForecast(r[0].woeid,r[0].title):e.setState({isFetching:!1}));case 6:case"end":return t.stop()}}),t)}))),500))}},{key:"getForecast",value:function(){var n=Object(d.a)(f.a.mark((function n(e,t){var r;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.setState({isFetching:!0}),n.next=3,x.find5days(e,bn.name);case 3:(r=n.sent).errorMessage?this.setState({error:r.errorMessage,isFetching:!1}):this.setState({weathers:x.normalizeData(r.consolidated_weather,bn.name),isFetching:!1,city:t,error:""});case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"renderSuggestCities",value:function(n){var e=this,t=this.state,r=t.suggestCities,i=t.isFetching;return r.length>1&&!i?a.a.createElement(on,null,a.a.createElement(fn,null,"Are you looking for:"),a.a.createElement(dn,null,r.slice(0,n).map((function(n){return a.a.createElement(un,{key:n.woeid,onClick:e.getForecast.bind(e,n.woeid,n.title)},n.title)})))):i?a.a.createElement(on,null,a.a.createElement(dn,null,Object(s.a)(Array(5)).map((function(n,e){return a.a.createElement(sn,{key:e})})))):null}},{key:"renderForecastWeathers",value:function(n){var e=this.state,t=e.weathers,r=e.isFetching,i=e.city;return r?a.a.createElement(ln,null,Object(s.a)(Array(n)).map((function(n,e){return a.a.createElement(B,{key:e,isFetching:!0})}))):t.length>0?a.a.createElement("div",null,a.a.createElement(hn,null," ","In ".concat(i,", the next days forecast weather are: ")),a.a.createElement(ln,null,t.slice(0,n).map((function(n){return a.a.createElement(B,{key:n.id,statusIcon:n.iconUrl,dayName:n.dayName,min:n.minTemp,max:n.maxTemp,unit:"C"})})))):null}},{key:"render",value:function(){var n=this,e=this.state,t=e.isFetching,r=e.error,i=e.notification,c=e.searchTerm;return a.a.createElement("div",null,a.a.createElement(an,null,a.a.createElement(rn,{disabled:t,onChange:function(e){return n.searchCity(e.target.value)},placeholder:"Search city...",value:c}),a.a.createElement(pn,null,r),a.a.createElement(gn,null,i),a.a.createElement(cn,null)),this.renderSuggestCities(10),this.renderForecastWeathers(6))}}]),t}(a.a.Component);function yn(){var n=Object(o.a)(["\n  background-color:  #353d45;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  font-size: 14px;\n  padding: 50px;\n  color: #eae3e3;\n"]);return yn=function(){return n},n}var xn=u.b.div(yn());var wn=function(){return a.a.createElement(xn,null,a.a.createElement(vn,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(wn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()})).catch((function(n){console.error(n.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.2b4a324b.chunk.js.map